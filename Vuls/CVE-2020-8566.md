## Summary:  
Software: kubernetes  
## Fix:  
Commit: https://github.com/sfowl/kubernetes/commit/e91ec4fad3366d2dee020919f7c2a0d7b52fd3ea  
Author: sfowl  
Fix Time (of the Last Commit): 2020-10-02  
Fix Pattern: Remove -> Logging variables  
  
Fixing-commits Count: 1  
Total Change Size: +6 -6  
  
========  
PR: https://github.com/kubernetes/kubernetes/pull/95245  
Commit: https://github.com/sfowl/kubernetes/commit/e91ec4fad3366d2dee020919f7c2a0d7b52fd3ea  
Change Size: +6 -6  
## Sample logs: No  
## Logging statements:  
### Source labels:  
Type of Sensitive Information:authentication data -> admin secrets  
### Sink labels:  
#### Sink 1:  
Logging call Function:  Third-party Libaries（k8s.io/klog）  
Sensitiveness-Identifiable Source:  Logging Statements -> Variable Names（adminSecret）  
#### Sink 2:  
Logging call Function:  Third-party Libaries（k8s.io/klog）  
Sensitiveness-Identifiable Source:  Logging Statements -> Variable Names（adminSecret）  
#### Sink 3:  
Logging call Function:  Third-party Libaries（k8s.io/klog）  
Sensitiveness-Identifiable Source:  Logging Statements -> Variable Names（adminSecret）  
Programming Language:Go  
```Go  
  
// https://github.com/sfowl/kubernetes/blob/dd466bccde8176bd390fcf712c0752ae94444742/pkg/volume/rbd/rbd_util.go#L585-L644  
  
// CreateImage creates a RBD image.  
func (util *rbdUtil) CreateImage(p *rbdVolumeProvisioner) (r *v1.RBDPersistentVolumeSource, size int, err error) {  
	var output []byte  
	capacity := p.options.PVC.Spec.Resources.Requests[v1.ResourceName(v1.ResourceStorage)]  
	// Convert to MB that rbd defaults on.  
	sz, err := volumehelpers.RoundUpToMiBInt(capacity)  
	if err != nil {  
		return nil, 0, err  
	}  
	volSz := fmt.Sprintf("%d", sz)  
	mon := util.kernelRBDMonitorsOpt(p.Mon)  
	if p.rbdMounter.imageFormat == rbdImageFormat2 {  
		klog.V(4).Infof("rbd: create %s size %s format %s (features: %s) using mon %s, pool %s id %s key %s", p.rbdMounter.Image, volSz, p.rbdMounter.imageFormat, p.rbdMounter.imageFeatures, mon, p.rbdMounter.Pool, p.rbdMounter.adminID, p.rbdMounter.adminSecret) // HERE IS THE SINK 1  
	} else {  
		klog.V(4).Infof("rbd: create %s size %s format %s using mon %s, pool %s id %s key %s", p.rbdMounter.Image, volSz, p.rbdMounter.imageFormat, mon, p.rbdMounter.Pool, p.rbdMounter.adminID, p.rbdMounter.adminSecret) // HERE IS THE SINK 2  
	}  
	args := []string{"create", p.rbdMounter.Image, "--size", volSz, "--pool", p.rbdMounter.Pool, "--id", p.rbdMounter.adminID, "-m", mon, "--key=" + p.rbdMounter.adminSecret, "--image-format", p.rbdMounter.imageFormat}  
	if p.rbdMounter.imageFormat == rbdImageFormat2 {  
		// If no image features is provided, it results in empty string  
		// which disable all RBD image format 2 features as expected.  
		features := strings.Join(p.rbdMounter.imageFeatures, ",")  
		args = append(args, "--image-feature", features)  
	}  
	output, err = p.exec.Command("rbd", args...).CombinedOutput()  
  
	if err != nil {  
		klog.Warningf("failed to create rbd image, output %v", string(output))  
		return nil, 0, fmt.Errorf("failed to create rbd image: %v, command output: %s", err, string(output))  
	}  
  
	return &v1.RBDPersistentVolumeSource{  
		CephMonitors: p.rbdMounter.Mon,  
		RBDImage:     p.rbdMounter.Image,  
		RBDPool:      p.rbdMounter.Pool,  
	}, sz, nil  
}  
  
// DeleteImage deletes a RBD image.  
func (util *rbdUtil) DeleteImage(p *rbdVolumeDeleter) error {  
	var output []byte  
	found, rbdOutput, err := util.rbdStatus(p.rbdMounter)  
	if err != nil {  
		return fmt.Errorf("error %v, rbd output: %v", err, rbdOutput)  
	}  
	if found {  
		klog.Infof("rbd %s is still being used ", p.rbdMounter.Image)  
		return fmt.Errorf("rbd image %s/%s is still being used, rbd output: %v", p.rbdMounter.Pool, p.rbdMounter.Image, rbdOutput)  
	}  
	// rbd rm.  
	mon := util.kernelRBDMonitorsOpt(p.rbdMounter.Mon)  
	klog.V(4).Infof("rbd: rm %s using mon %s, pool %s id %s key %s", p.rbdMounter.Image, mon, p.rbdMounter.Pool, p.rbdMounter.adminID, p.rbdMounter.adminSecret) // HERE IS THE SINK 3  
	output, err = p.exec.Command("rbd",  
		"rm", p.rbdMounter.Image, "--pool", p.rbdMounter.Pool, "--id", p.rbdMounter.adminID, "-m", mon, "--key="+p.rbdMounter.adminSecret).CombinedOutput()  
	if err == nil {  
		return nil  
	}  
  
	klog.Errorf("failed to delete rbd image: %v, command output: %s", err, string(output))  
	return fmt.Errorf("error %v, rbd output: %v", err, string(output))  
}  
  
```  
