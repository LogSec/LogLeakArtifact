## Summary:  
Software: jboss  
## Fix:  
Commit: https://github.com/jboss-fuse/fuse/commit/e9482ef20c4c022d9e17ece59af122b5e08a77de  
Change Size: +30 -19  
Author: Ioannis Canellos  
Fix Time (of the Last Commit): 2014-03-25  
Fix Pattern: Encryption  
Fixing-commits Count: 1  
Total Change Size: +30 -19  
## Sample logs: No  
## Logging statements:  
### Source labels:  
Type of Sensitive Information:authentication data -> passwords  
### Sink labels:  
#### Sink 1:  
Logging call Function:  Standard Libraries（System.out.println）  
Sensitiveness-Identifiable Source:  Same Methods & Cross Statements（https://github.com/jboss-fuse/fuse/blob/e9482ef20c4c022d9e17ece59af122b5e08a77de/fabric/fabric-boot-commands/src/main/java/io/fabric8/boot/commands/CreateAction.java#L263） -> Method Names（options.getZookeeperPassword）|String Literals（password，finally outputed to logs）  
Programming Language:Java  
```Java  
// https://github.com/jboss-fuse/fuse/blob/e9482ef20c4c022d9e17ece59af122b5e08a77de/fabric/fabric-boot-commands/src/main/java/io/fabric8/boot/commands/CreateAction.java#L242-L267  
  
        CreateEnsembleOptions options = builder.users(userProps)  
                                               .withUser(newUser, newUserPassword , newUserRole)  
                                               .build();  
  
        if (containers.size() == 1 && containers.contains(karafName)) {  
            bootstrap.create(options);  
        } else {  
            ServiceProxy<ZooKeeperClusterService> serviceProxy = ServiceProxy.createServiceProxy(bundleContext, ZooKeeperClusterService.class);  
            try {  
                serviceProxy.getService().createCluster(containers, options);  
            } finally {  
                serviceProxy.close();  
            }  
        }  
  
  
        ShellUtils.storeZookeeperPassword(session, options.getZookeeperPassword());  
        if (zookeeperPassword == null && !generateZookeeperPassword) {  
            sb.append("Zookeeper password: (reusing users ").append(newUser).append(" password:").append(options.getZookeeperPassword()).append(")\n");  
            sb.append("(You can use the --zookeeper-password / --generate-zookeeper-password option to specify one.)\n");  
        }   else if (generateZookeeperPassword) {  
            sb.append("Generated zookeeper password:").append(options.getZookeeperPassword());  
        }  else {  
            sb.append("Using specified zookeeper password:").append(options.getZookeeperPassword());  
        }  
        System.out.println(sb.toString()); // HERE IS THE SINK 1  
  
  
// https://github.com/jboss-fuse/fuse/blob/e9482ef20c4c022d9e17ece59af122b5e08a77de/fabric/fabric-api/src/main/java/io/fabric8/api/CreateEnsembleOptions.java#L218-L228  
  
        @Override  
        public B fromRuntimeProperties(RuntimeProperties sysprops) {  
            super.fromRuntimeProperties(sysprops);  
            this.ensembleStart = Boolean.parseBoolean(sysprops.getProperty(ENSEMBLE_AUTOSTART, "false"));  
            this.agentEnabled = Boolean.parseBoolean(sysprops.getProperty(AGENT_AUTOSTART, "false"));  
            this.zookeeperPassword =  sysprops.getProperty(ZOOKEEPER_PASSWORD, generatePassword()); // HERE IS THE SOURCE  
            this.zooKeeperServerPort = Integer.parseInt(sysprops.getProperty(ZOOKEEPER_SERVER_PORT, "2181"));  
            this.zooKeeperServerConnectionPort = Integer.parseInt(sysprops.getProperty(ZOOKEEPER_SERVER_CONNECTION_PORT, "2181"));  
            this.importPath = sysprops.getProperty(PROFILES_AUTOIMPORT_PATH, DEFAULT_IMPORT_PATH);  
            this.autoImportEnabled = Boolean.parseBoolean(sysprops.getProperty(PROFILES_AUTOIMPORT, "true"));  
            return (B) this;  
        }  
  
// https://github.com/jboss-fuse/fuse/blob/e9482ef20c4c022d9e17ece59af122b5e08a77de/fabric/fabric-api/src/main/java/io/fabric8/api/CreateEnsembleOptions.java#L455-L468  
  
    public static String generatePassword() {  
        StringBuilder password = new StringBuilder();  
        for (int i = 0; i < 16; i++) {  
            long l = Math.round(Math.floor(Math.random() * (26 * 2 + 10)));  
            if (l < 10) {  
                password.append((char) ('0' + l));  
            } else if (l < 36) {  
                password.append((char) ('A' + l - 10));  
            } else {  
                password.append((char) ('a' + l - 36));  
            }  
        }  
        return password.toString();  
    }  
  
```  
