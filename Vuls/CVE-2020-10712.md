## Summary:  
Software: openshift/cluster_image_registry_operator  
## Fix:  
Commit: https://github.com/dmage/cluster-image-registry-operator/commit/9236422daff41e3550c10d8ab46164fd1a964ebc  
Author: Oleg Bulatov  
Fix Time (of the Last Commit): 2020-04-22  
  
Fix Pattern: Sanitization -> Redaction -> Introduction -> Keyword/RegexBasedFiltration -> NoRedactionFunctionDefined  
  
Fixing-commits Count: 1  
Total Change Size: +175 -4  
  
========  
https://github.com/openshift/cluster-image-registry-operator/pull/527  
Commit: https://github.com/dmage/cluster-image-registry-operator/commit/9236422daff41e3550c10d8ab46164fd1a964ebc  
Change Size: +175 -4  
## Sample logs: Yes  
```  
$ oc logs cluster-image-registry-operator-6d5f6f8675-vcknf -c cluster-image-registry-operator -n openshift-image-registry | grep "Secret"  
I0422 14:12:45.354762      12 generator.go:44] object *v1.Secret, Namespace=openshift-image-registry, Name=installation-pull-secrets created: data..dockerconfigjson=<REDACTED>, metadata.annotations.imageregistry.operator.openshift.io/checksum="sha256:eb636bcadfa12bcb9f8b957ca9dfe550a40b632a2ec7e15b2b41e2a9e263e7a8", metadata.creationTimestamp="2020-04-22T14:12:45Z", metadata.managedFields.0.apiVersion="v1", metadata.managedFields.0.fieldsType="FieldsV1", metadata.managedFields.0.manager="cluster-image-registry-operator", metadata.managedFields.0.operation="Update", metadata.managedFields.0.time="2020-04-22T14:12:45Z", metadata.name="installation-pull-secrets", metadata.namespace="openshift-image-registry", metadata.resourceVersion="11908", metadata.selfLink="/api/v1/namespaces/openshift-image-registry/secrets/installation-pull-secrets", metadata.uid="dccf8879-fb21-4922-bf74-d5155e23c386", type="kubernetes.io/dockerconfigjson"  
I0422 14:12:45.572678      12 generator.go:44] object *v1.Secret, Namespace=openshift-image-registry, Name=image-registry-private-configuration created: data.REGISTRY_STORAGE_S3_ACCESSKEY=<REDACTED>, data.REGISTRY_STORAGE_S3_SECRETKEY=<REDACTED>, metadata.annotations.imageregistry.operator.openshift.io/checksum="sha256:0a0df49d3f785ed48a489fc63107e3de964151fbbaa2d6cc42b8d3d389a35676", metadata.creationTimestamp="2020-04-22T14:12:45Z", metadata.managedFields.0.apiVersion="v1", metadata.managedFields.0.fieldsType="FieldsV1", metadata.managedFields.0.manager="cluster-image-registry-operator", metadata.managedFields.0.operation="Update", metadata.managedFields.0.time="2020-04-22T14:12:45Z", metadata.name="image-registry-private-configuration", metadata.namespace="openshift-image-registry", metadata.resourceVersion="11919", metadata.selfLink="/api/v1/namespaces/openshift-image-registry/secrets/image-registry-private-configuration", metadata.uid="af3ebdc9-e579-4740-bb27-f63f3e4f9221", type="Opaque"  
```  
## Logging statements:  
### Source labels:  
Type of Sensitive Information:authentication data -> Sensitive information  
### Sink labels:  
#### Sink 1:  
Logging call Function:  Third-party Libaries（k8s.io/klog）  
Sensitiveness-Identifiable Source:  Same Modules & Cross Files（https://github.com/openshift/cluster-image-registry-operator/blob/a0e0a9b0723e1a4d7962c454f275ab6eed7c0126/pkg/storage/s3/s3.go#L83） -> String Literals(aws_secret_access_key)  
Programming Language:Go  
```go  
// https://github.com/openshift/cluster-image-registry-operator/blob/a0e0a9b0723e1a4d7962c454f275ab6eed7c0126/pkg/resource/generator.go#L26-L64  
  
func ApplyMutator(gen Mutator) error {  
	return retry.RetryOnConflict(retry.DefaultBackoff, func() error {  
		o, err := gen.Get()  
		if err != nil {  
			if !errors.IsNotFound(err) {  
				return fmt.Errorf("failed to get object %s: %s", Name(gen), err)  
			}  
  
			n, err := gen.Create()  
			if err != nil {  
				return fmt.Errorf("failed to create object %s: %s", Name(gen), err)  
			}  
  
			str, err := object.DumpString(n)  
			if err != nil {  
				klog.Errorf("unable to dump object: %s", err)  
			}  
  
			klog.Infof("object %s created: %s", Name(gen), str) // HERE IS THE SINK 1  
			return nil  
		}  
  
		n, updated, err := gen.Update(o.DeepCopyObject())  
		if err != nil {  
			if errors.IsConflict(err) {  
				return err  
			}  
			return fmt.Errorf("failed to update object %s: %s", Name(gen), err)  
		}  
		if updated {  
			difference, err := object.DiffString(o, n)  
			if err != nil {  
				klog.Errorf("unable to calculate difference: %s", err)  
			}  
			klog.Infof("object %s updated: %s", Name(gen), difference)  
		}  
		return nil  
	})  
}  
  
  
```  
