## Summary:  
Software: cli  
## Fix:  
Commit: https://github.com/npm/cli/commit/a9857b8f6869451ff058789c4631fadfde5bbcbc  
Change Size: +40 -5  
Author: Claudia Hernández  
Fix Time (of the Last Commit): 2020-07-01  
Fix Pattern: Sanitization -> Redaction -> Introduction  
  
Fixing-commits Count: 1  
Total Change Size: +40 -5  
## Sample logs: Yes  
```  
npm info it worked if it ends with ok  
npm verb cli [ '/usr/bin/node',  
npm verb cli   '/usr/bin/npm',  
npm verb cli   'config',  
npm verb cli   'set',  
npm verb cli   'proxy',  
npm verb cli   'http://username:mystrongpassword@proxy.mycompany.com:PORT',  
npm verb cli   '--verbose' ]  
npm info using npm@6.14.4  
npm info using node@v10.19.0  
npm verb config Skipping project config: /home/ubuntu/.npmrc. (matches userconfig)  
npm info config set "proxy" "http://username:mystrongpassword@proxy.mycompany.com:PORT"  
npm verb exit [ 0, true ]  
npm timing npm Completed in 42ms  
npm info ok  
```  
## Logging statements:  
### Source labels:  
Type of Sensitive Information:authentication data -> password in URL  
### Sink labels:  
#### Sink 1:  
Logging call Function:  Third-party Libaries（npmlog）  
Sensitiveness-Identifiable Source:  Same Projects & Cross Modules（https://github.com/npm/cli/blob/a9857b8f6869451ff058789c4631fadfde5bbcbc/lib/whoami.js#L31）-> Method Names(getCredentialsByURI)  
Programming Language:JS  
```JavaScript  
// https://github.com/npm/cli/blob/a9857b8f6869451ff058789c4631fadfde5bbcbc/bin/npm-cli.js#L44-L45  
  
  var args = replaceInfo(process.argv)  
  log.verbose('cli', args) // HERE IS THE SINK 1  
  
// https://github.com/npm/cli/blob/a9857b8f6869451ff058789c4631fadfde5bbcbc/lib/utils/replace-info.js  
const URL = require('url')  
  
// replaces auth info in an array  
//  of arguments or in a strings  
function replaceInfo (arg) {  
  const isArray = Array.isArray(arg)  
  const isString = typeof arg === 'string'  
  
  if (!isArray && !isString) return arg  
  
  const args = isString ? arg.split(' ') : arg  
  const info = args.map(arg => {  
    try {  
      const url = new URL(arg)  
      return url.password === '' ? arg : arg.replace(url.password, '***')  
    } catch (e) { return arg }  
  })  
  
  return isString ? info.join(' ') : info  
}  
  
module.exports = replaceInfo  
  
```  
