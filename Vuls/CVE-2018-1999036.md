## Summary:  
Software: jenkins/ssh_agent  
## Fix:  
Commit: https://github.com/jenkinsci/ssh-agent-plugin/commit/3a8abe1889d25f9a73cdba202cf27212b273de4d  
Change Size: +106 -47  
Author: Jesse Glick  
Fix Time (of the Last Commit): 2018-07-23  
Fix Pattern: Disable Logging in Default  
  
Fixing-commits Count: 1  
Total Change Size: +106 -47  
## Sample logs: No  
## Logging statements:  
### Source labels:  
Type of Sensitive Information:authentication data -> SSH private key password  
### Sink labels:  
#### Sink 1:  
Logging call Function:  User-defined（maskedPrintCommandLine）  
Sensitiveness-Identifiable Source:  Cross Projects|Cross-Libraries（https://github.com/jenkinsci/ssh-agent-plugin/blob/9b6edc2e4b1411074acec96fe684e1d08bca0c17/src/main/java/com/cloudbees/jenkins/plugins/sshagent/exec/ExecRemoteAgent.java#L104） -> Variable Names（passphrase）|String Literals（SSH_PASSPHRASE）  
Programming Language:Java  
```Java  
  
// https://github.com/jenkinsci/jenkins/blob/b49610e29f8efddb2c9d2188efebcbf146d731ea/core/src/main/java/hudson/Launcher.java#L974-L977  
  
        public Proc launch(ProcStarter ps) throws IOException {  
            if (!ps.quiet) {  
                maskedPrintCommandLine(ps.commands, ps.masks, ps.pwd); # HERE IS THE SINK 1  
            }  
  
  
// https://github.com/jenkinsci/jenkins/blob/b49610e29f8efddb2c9d2188efebcbf146d731ea/core/src/main/java/hudson/Launcher.java#L792-L849  
  
    /**  
     * Prints out the command line to the listener so that users know what we are doing.  
     */  
    protected final void printCommandLine(@NonNull String[] cmd, @CheckForNull FilePath workDir) {  
        StringBuilder buf = new StringBuilder();  
        if (workDir != null) {  
            buf.append('[');  
            if(showFullPath)  
                buf.append(workDir.getRemote());  
            else  
                buf.append(workDir.getRemote().replaceFirst("^.+[/\\\\]", ""));  
            buf.append("] ");  
        }  
        buf.append('$');  
        for (String c : cmd) {  
            buf.append(' ');  
            if(c.indexOf(' ')>=0) {  
                if(c.indexOf('"')>=0)  
                    buf.append('\'').append(c).append('\'');  
                else  
                    buf.append('"').append(c).append('"');  
            } else  
                buf.append(c);  
        }  
        listener.getLogger().println(buf.toString());  
        listener.getLogger().flush();  
    }  
  
    /**  
     * Prints out the command line to the listener with some portions masked to prevent sensitive information from being  
     * recorded on the listener.  
     *  
     * @param cmd     The commands  
     * @param mask    An array of booleans which control whether a cmd element should be masked ({@code true}) or  
     *                remain unmasked ({@code false}).  
     * @param workDir The work dir.  
     */  
    protected final void maskedPrintCommandLine(@NonNull List<String> cmd, @CheckForNull boolean[] mask, @CheckForNull FilePath workDir) {  
        if(mask==null) {  
            printCommandLine(cmd.toArray(new String[0]),workDir);  
            return;  
        }  
          
        assert mask.length == cmd.size();  
        final String[] masked = new String[cmd.size()];  
        for (int i = 0; i < cmd.size(); i++) {  
            if (mask[i]) {  
                masked[i] = "********";  
            } else {  
                masked[i] = cmd.get(i);  
            }  
        }  
        printCommandLine(masked, workDir);  
    }  
      
    protected final void maskedPrintCommandLine(@NonNull String[] cmd, @NonNull boolean[] mask, @CheckForNull FilePath workDir) {  
        maskedPrintCommandLine(Arrays.asList(cmd),mask,workDir);  
    }  
  
```  
